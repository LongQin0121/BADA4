<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPCå…¬å¼å…³ç³»è¯¦è§£</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            font-size: 2.8em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .formula-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            color: #333;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
        }
        
        .main-formula {
            background: linear-gradient(145deg, #2d3748, #1a202c);
            color: white;
            padding: 25px;
            border-radius: 12px;
            font-family: 'Times New Roman', serif;
            font-size: 1.2em;
            text-align: center;
            margin: 20px 0;
            border: 3px solid #ffd700;
        }
        
        .relationship-diagram {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            color: #333;
            text-align: center;
        }
        
        .formula-flow {
            display: grid;
            grid-template-columns: 1fr auto 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
        }
        
        .formula-box {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #3498db;
        }
        
        .arrow {
            font-size: 2em;
            color: #e74c3c;
            font-weight: bold;
        }
        
        .specific-formula {
            border-color: #e74c3c;
            background: linear-gradient(145deg, #ffe6e6, #ffd7d7);
        }
        
        .general-formula {
            border-color: #2ecc71;
            background: linear-gradient(145deg, #e6ffe6, #d7ffd7);
        }
        
        .cost-components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .component-card {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #3498db;
        }
        
        .terminal { border-left-color: #9b59b6; }
        .stage { border-left-color: #f39c12; }
        
        .math-notation {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            margin: 10px 0;
            text-align: center;
        }
        
        .interpretation {
            background: rgba(52, 152, 219, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #3498db;
            margin: 10px 0;
            font-style: italic;
        }
        
        .highlight-box {
            background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid #ffd700;
            text-align: center;
        }
        
        .position-diagram {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            color: #333;
        }
        
        .mpc-structure {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .structure-level {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            position: relative;
        }
        
        .level-1 { border-left-color: #e74c3c; }
        .level-2 { border-left-color: #f39c12; margin-left: 20px; }
        .level-3 { border-left-color: #2ecc71; margin-left: 40px; }
        
        .visual-timeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(to right, #3498db, #2ecc71);
            border-radius: 12px;
            color: white;
        }
        
        .time-point {
            background: rgba(255,255,255,0.2);
            padding: 12px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        @media (max-width: 768px) {
            .formula-flow {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .arrow {
                transform: rotate(90deg);
            }
            
            .visual-timeline {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”— MPCå…¬å¼å…³ç³»è¯¦è§£</h1>
        
        <div class="highlight-box">
            <h2 style="color: #ffd700; margin-top: 0;">ğŸ¯ æ ¸å¿ƒå…³ç³»</h2>
            <p style="font-size: 1.3em;">
                <strong>ä¸€èˆ¬å…¬å¼ â†’ å…·ä½“å½¢å¼ â†’ å®é™…è®¡ç®—</strong><br>
                ä¸‰è€…æ˜¯åŒä¸€ä¸ªä¼˜åŒ–é—®é¢˜çš„ä¸åŒå±‚æ¬¡è¡¨è¾¾
            </p>
        </div>
        
        <div class="relationship-diagram">
            <h2 style="color: #333; margin-bottom: 25px;">ğŸ“Š ä¸‰ä¸ªå…¬å¼çš„å±‚æ¬¡å…³ç³»</h2>
            
            <div class="formula-flow">
                <div class="formula-box general-formula">
                    <h3>ğŸ”§ é€šç”¨æ¡†æ¶</h3>
                    <div class="math-notation">
                        U*<sub>t</sub> := argmin<sub>U<sub>t</sub></sub> Î£<sup>N-1</sup><sub>k=0</sub> q(x<sub>t+k</sub>, u<sub>t+k</sub>)
                    </div>
                    <p><strong>å«ä¹‰ï¼š</strong>æŠ½è±¡çš„æ•°å­¦æ¡†æ¶</p>
                </div>
                
                <div class="arrow">âŸ¹</div>
                
                <div class="formula-box specific-formula">
                    <h3>ğŸ“‹ å…·ä½“å®ä¾‹</h3>
                    <div class="math-notation">
                        q(x,u) = x<sup>T</sup>Qx + u<sup>T</sup>Ru
                    </div>
                    <p><strong>å«ä¹‰ï¼š</strong>äºŒæ¬¡å‹ä»£ä»·å‡½æ•°</p>
                </div>
                
                <div class="arrow">âŸ¹</div>
                
                <div class="formula-box">
                    <h3>ğŸ§® å®Œæ•´å½¢å¼</h3>
                    <div class="math-notation">
                        J<sub>0</sub> = x<sup>T</sup><sub>N</sub>P x<sub>N</sub> + Î£<sup>N-1</sup><sub>k=0</sub>[x<sup>T</sup><sub>k</sub>Qx<sub>k</sub> + u<sup>T</sup><sub>k</sub>Ru<sub>k</sub>]
                    </div>
                    <p><strong>å«ä¹‰ï¼š</strong>åŒ…å«ç»ˆç«¯ä»£ä»·çš„å®Œæ•´ç›®æ ‡å‡½æ•°</p>
                </div>
            </div>
        </div>
        
        <div class="formula-card">
            <h2 style="text-align: center; color: #333;">ğŸ” è¯¦ç»†è§£æ</h2>
            
            <div class="cost-components">
                <div class="component-card">
                    <h3>ğŸ“ å…¬å¼1ï¼šé€šç”¨MPCæ¡†æ¶</h3>
                    <div class="main-formula">
                        U*<sub>t</sub>(x(t)) := argmin<sub>U<sub>t</sub></sub> Î£<sup>N-1</sup><sub>k=0</sub> q(x<sub>t+k</sub>, u<sub>t+k</sub>)<br>
                        subject to constraints
                    </div>
                    <div class="interpretation">
                        <strong>ä½œç”¨ï¼š</strong>å®šä¹‰MPCçš„ä¸€èˆ¬æ¡†æ¶<br>
                        <strong>q(x,u)ï¼š</strong>æŠ½è±¡çš„å•æ­¥ä»£ä»·å‡½æ•°<br>
                        <strong>çµæ´»æ€§ï¼š</strong>qå¯ä»¥æ˜¯ä»»ä½•å½¢å¼
                    </div>
                </div>
                
                <div class="component-card">
                    <h3>ğŸ“Š å…¬å¼2ï¼šäºŒæ¬¡å‹ä»£ä»·</h3>
                    <div class="math-notation">
                        q(x,u) = x<sup>T</sup>Qx + u<sup>T</sup>Ru
                    </div>
                    <div class="interpretation">
                        <strong>ä½œç”¨ï¼š</strong>å…·ä½“åŒ–å•æ­¥ä»£ä»·å‡½æ•°<br>
                        <strong>å½¢å¼ï¼š</strong>äºŒæ¬¡å‹ï¼ˆæœ€å¸¸ç”¨ï¼‰<br>
                        <strong>å‚æ•°ï¼š</strong>Qæƒé‡çŠ¶æ€ï¼ŒRæƒé‡æ§åˆ¶
                    </div>
                </div>
                
                <div class="component-card terminal">
                    <h3>ğŸ¯ å…¬å¼3ï¼šå®Œæ•´ç›®æ ‡å‡½æ•°</h3>
                    <div class="math-notation">
                        J<sub>0</sub> = x<sup>T</sup><sub>N</sub>P x<sub>N</sub> + Î£<sup>N-1</sup><sub>k=0</sub>[x<sup>T</sup><sub>k</sub>Qx<sub>k</sub> + u<sup>T</sup><sub>k</sub>Ru<sub>k</sub>]
                    </div>
                    <div class="interpretation">
                        <strong>ä½œç”¨ï¼š</strong>å®Œæ•´çš„ç›®æ ‡å‡½æ•°<br>
                        <strong>ç»ˆç«¯é¡¹ï¼š</strong>x<sup>T</sup><sub>N</sub>P x<sub>N</sub><br>
                        <strong>é˜¶æ®µé¡¹ï¼š</strong>Î£[x<sup>T</sup>Qx + u<sup>T</sup>Ru]
                    </div>
                </div>
            </div>
        </div>
        
        <div class="position-diagram">
            <h2 style="color: #333; text-align: center;">ğŸ—ºï¸ Jåœ¨MPCä¸­çš„ä½ç½®</h2>
            
            <div class="mpc-structure">
                <div class="structure-level level-1">
                    <strong>ğŸ¯ MPCä¼˜åŒ–é—®é¢˜</strong>
                    <p>minimize J<sub>0</sub>(x(0), U<sub>0</sub>) &nbsp;&nbsp;â† <span style="color: #e74c3c; font-weight: bold;">Jåœ¨è¿™é‡Œï¼</span></p>
                </div>
                
                <div class="structure-level level-2">
                    <strong>ğŸ“‹ çº¦æŸæ¡ä»¶</strong>
                    <p>subject to: åŠ¨æ€çº¦æŸã€çŠ¶æ€çº¦æŸã€æ§åˆ¶çº¦æŸ</p>
                </div>
                
                <div class="structure-level level-3">
                    <strong>ğŸ”¢ ä¼˜åŒ–å˜é‡</strong>
                    <p>U<sub>0</sub> = {u<sub>0</sub>, u<sub>1</sub>, ..., u<sub>N-1</sub>}</p>
                </div>
            </div>
            
            <div class="visual-timeline">
                <div class="time-point">
                    <strong>k=0</strong><br>
                    x<sup>T</sup><sub>0</sub>Qx<sub>0</sub> + u<sup>T</sup><sub>0</sub>Ru<sub>0</sub>
                </div>
                <div class="time-point">
                    <strong>k=1</strong><br>
                    x<sup>T</sup><sub>1</sub>Qx<sub>1</sub> + u<sup>T</sup><sub>1</sub>Ru<sub>1</sub>
                </div>
                <div class="time-point">
                    <strong>...</strong><br>
                    ...
                </div>
                <div class="time-point">
                    <strong>k=N-1</strong><br>
                    x<sup>T</sup><sub>N-1</sub>Qx<sub>N-1</sub> + u<sup>T</sup><sub>N-1</sub>Ru<sub>N-1</sub>
                </div>
                <div class="time-point">
                    <strong>ç»ˆç«¯</strong><br>
                    x<sup>T</sup><sub>N</sub>P x<sub>N</sub>
                </div>
            </div>
        </div>
        
        <div class="formula-card">
            <h2 style="text-align: center; color: #333;">ğŸ§® å…¬å¼å±•å¼€å¯¹åº”å…³ç³»</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ç¬¦å·</th>
                        <th>é€šç”¨å½¢å¼</th>
                        <th>å…·ä½“å®ä¾‹</th>
                        <th>ç‰©ç†å«ä¹‰</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>q(x,u)</strong></td>
                        <td>æŠ½è±¡å•æ­¥ä»£ä»·</td>
                        <td>x<sup>T</sup>Qx + u<sup>T</sup>Ru</td>
                        <td>çŠ¶æ€åå·®Â² + æ§åˆ¶èƒ½è€—Â²</td>
                    </tr>
                    <tr>
                        <td><strong>Î£ q(...)</strong></td>
                        <td>ç´¯ç§¯é˜¶æ®µä»£ä»·</td>
                        <td>Î£[x<sup>T</sup><sub>k</sub>Qx<sub>k</sub> + u<sup>T</sup><sub>k</sub>Ru<sub>k</sub>]</td>
                        <td>é¢„æµ‹æœŸå†…æ€»ä»£ä»·</td>
                    </tr>
                    <tr>
                        <td><strong>ç»ˆç«¯é¡¹</strong></td>
                        <td>éšå«åœ¨æ¡†æ¶ä¸­</td>
                        <td>x<sup>T</sup><sub>N</sub>P x<sub>N</sub></td>
                        <td>é¢„æµ‹ç»ˆç«¯çŠ¶æ€ä»£ä»·</td>
                    </tr>
                    <tr>
                        <td><strong>J<sub>0</sub></strong></td>
                        <td>å®Œæ•´ç›®æ ‡å‡½æ•°</td>
                        <td>ç»ˆç«¯é¡¹ + é˜¶æ®µé¡¹</td>
                        <td>æ€»ä½“ä¼˜åŒ–ç›®æ ‡</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="formula-card">
            <h2 style="text-align: center; color: #333;">ğŸ”§ å®é™…è®¡ç®—è¿‡ç¨‹</h2>
            
            <div class="cost-components">
                <div class="component-card stage">
                    <h3>1ï¸âƒ£ æ„å»ºå®Œæ•´ç›®æ ‡å‡½æ•°</h3>
                    <div class="math-notation">
                        å°† q(x,u) = x<sup>T</sup>Qx + u<sup>T</sup>Ru<br>
                        ä»£å…¥ Î£ q(...) å¾—åˆ°å®Œæ•´çš„ J<sub>0</sub>
                    </div>
                </div>
                
                <div class="component-card">
                    <h3>2ï¸âƒ£ è®¾ç½®çº¦æŸæ¡ä»¶</h3>
                    <div class="math-notation">
                        x<sub>k+1</sub> = Ax<sub>k</sub> + Bu<sub>k</sub><br>
                        u<sub>min</sub> â‰¤ u<sub>k</sub> â‰¤ u<sub>max</sub><br>
                        x<sub>min</sub> â‰¤ x<sub>k</sub> â‰¤ x<sub>max</sub>
                    </div>
                </div>
                
                <div class="component-card terminal">
                    <h3>3ï¸âƒ£ æ±‚è§£ä¼˜åŒ–é—®é¢˜</h3>
                    <div class="math-notation">
                        U* = argmin J<sub>0</sub>(x<sub>0</sub>, U)<br>
                        è¾“å‡ºï¼šæœ€ä¼˜æ§åˆ¶åºåˆ—
                    </div>
                </div>
            </div>
        </div>
        
        <div class="highlight-box">
            <h2 style="color: #ffd700; margin-top: 0;">ğŸ’¡ å…³é”®æ´å¯Ÿ</h2>
            <div style="font-size: 1.1em; text-align: left; max-width: 800px; margin: 0 auto;">
                <p><strong>ğŸ¯ ä¸‰è€…å…³ç³»æ€»ç»“</strong></p>
                <p>â€¢ <strong>å…¬å¼1ï¼š</strong>MPCçš„æŠ½è±¡æ•°å­¦æ¡†æ¶</p>
                <p>â€¢ <strong>å…¬å¼2ï¼š</strong>æœ€å¸¸ç”¨çš„äºŒæ¬¡å‹ä»£ä»·å‡½æ•°</p>
                <p>â€¢ <strong>å…¬å¼3ï¼š</strong>åŒ…å«ç»ˆç«¯ä»£ä»·çš„å®Œæ•´å®ç°</p>
                <br>
                <p><strong>ğŸ“ Jçš„ä½ç½®</strong></p>
                <p>â€¢ J<sub>0</sub> æ˜¯MPCä¼˜åŒ–é—®é¢˜çš„<strong>ç›®æ ‡å‡½æ•°</strong></p>
                <p>â€¢ å®ƒå‡ºç°åœ¨ "minimize" åé¢</p>
                <p>â€¢ æ˜¯æ•´ä¸ªä¼˜åŒ–é—®é¢˜è¦æœ€å°åŒ–çš„é‡</p>
                <br>
                <p style="font-style: italic; color: #ffd700; text-align: center;">
                    "Jæ˜¯MPCçš„å¿ƒè„â€”â€”å®ƒå®šä¹‰äº†ä»€ä¹ˆæ˜¯'æœ€ä¼˜'"
                </p>
            </div>
        </div>
    </div>
</body>
</html>
